<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Data Access - Love App</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .data-section {
            margin-bottom: 30px;
            border: 2px solid #e91e63;
            border-radius: 10px;
            padding: 20px;
            background: #fafafa;
        }
        .data-section h2 {
            color: #e91e63;
            margin-top: 0;
            border-bottom: 2px solid #e91e63;
            padding-bottom: 10px;
        }
        .data-content {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-top: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        .refresh-btn {
            background: #e91e63;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-bottom: 20px;
        }
        .refresh-btn:hover {
            background: #c2185b;
        }
        .clear-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin-left: 10px;
        }
        .clear-btn:hover {
            background: #d32f2f;
        }
        .data-item {
            margin-bottom: 15px;
            padding: 10px;
            background: #f5f5f5;
            border-left: 4px solid #e91e63;
            border-radius: 5px;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Love App Data Monitor</h1>
        
        <button class="refresh-btn" onclick="loadAllData()">üîÑ Refresh All Data</button>
        
        <div style="background: #ffe4ec; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #e91e63;">
            <strong>üìã How to use:</strong><br>
            1. Open this file in your browser<br>
            2. Use the same browser where the Love App is running<br>
            3. All data is stored locally and updates automatically<br>
            4. You can clear specific data sections using the Clear buttons
        </div>
        
        <div class="stats" id="stats"></div>
        
        <div class="data-section">
            <h2>üí¨ Complaints <button class="clear-btn" onclick="clearData('loveApp_complaints')">Clear</button></h2>
            <div class="data-content" id="complaints"></div>
        </div>
        
        <div class="data-section">
            <h2>ü§ó Daily Hug Counts <button class="clear-btn" onclick="clearData('loveApp_hugCounter')">Clear</button></h2>
            <div class="data-content" id="hugCounts"></div>
        </div>
        
        <div class="data-section">
            <h2>‚úÖ Daily Tasks Progress <button class="clear-btn" onclick="clearData('loveApp_dailyTasks')">Clear</button></h2>
            <div class="data-content" id="dailyTasks"></div>
        </div>
        
        <div class="data-section">
            <h2>‚öôÔ∏è App Settings <button class="clear-btn" onclick="clearData('loveApp_darkMode')">Clear</button></h2>
            <div class="data-content" id="settings"></div>
        </div>
    </div>

    <script>
        function loadAllData() {
            loadComplaints();
            loadHugCounts();
            loadDailyTasks();
            loadSettings();
            loadStats();
        }

        function loadComplaints() {
            const complaints = JSON.parse(localStorage.getItem('loveApp_complaints') || '[]');
            const container = document.getElementById('complaints');
            
            if (complaints.length === 0) {
                container.innerHTML = '<div style="color: #666; font-style: italic;">No complaints yet üòä</div>';
                return;
            }
            
            container.innerHTML = complaints.map((complaint, index) => `
                <div class="data-item">
                    <strong>Complaint #${index + 1}</strong> (${complaint.date})<br>
                    <strong>Time:</strong> ${new Date(complaint.timestamp).toLocaleString()}<br>
                    <strong>Message:</strong> ${complaint.text}
                </div>
            `).join('');
        }

        function loadHugCounts() {
            const hugCounts = JSON.parse(localStorage.getItem('loveApp_hugCounter') || '{}');
            const container = document.getElementById('hugCounts');
            
            if (Object.keys(hugCounts).length === 0) {
                container.innerHTML = '<div style="color: #666; font-style: italic;">No hugs sent yet ü§ó</div>';
                return;
            }
            
            container.innerHTML = Object.entries(hugCounts).map(([date, count]) => `
                <div class="data-item">
                    <strong>${date}:</strong> ${count} hugs sent ü§ó
                </div>
            `).join('');
        }

        function loadDailyTasks() {
            const dailyTasks = JSON.parse(localStorage.getItem('loveApp_dailyTasks') || '{}');
            const container = document.getElementById('dailyTasks');
            
            if (Object.keys(dailyTasks).length === 0) {
                container.innerHTML = '<div style="color: #666; font-style: italic;">No tasks data yet ‚úÖ</div>';
                return;
            }
            
            container.innerHTML = Object.entries(dailyTasks).map(([date, tasks]) => {
                const completed = tasks.filter(task => task.completed).length;
                const total = tasks.length;
                const percentage = Math.round((completed / total) * 100);
                
                return `
                    <div class="data-item">
                        <strong>${date}</strong><br>
                        <strong>Progress:</strong> ${completed}/${total} tasks completed (${percentage}%)<br>
                        <strong>Tasks:</strong><br>
                        ${tasks.map(task => `
                            <div style="margin-left: 15px; margin-top: 5px;">
                                ${task.completed ? '‚úÖ' : '‚è≥'} ${task.text}
                            </div>
                        `).join('')}
                    </div>
                `;
            }).join('');
        }

        function loadSettings() {
            const darkMode = JSON.parse(localStorage.getItem('loveApp_darkMode') || 'false');
            const container = document.getElementById('settings');
            
            container.innerHTML = `
                <div class="data-item">
                    <strong>Dark Mode:</strong> ${darkMode ? 'Enabled üåô' : 'Disabled ‚òÄÔ∏è'}
                </div>
            `;
        }

        function loadStats() {
            const complaints = JSON.parse(localStorage.getItem('loveApp_complaints') || '[]');
            const hugCounts = JSON.parse(localStorage.getItem('loveApp_hugCounter') || '{}');
            const dailyTasks = JSON.parse(localStorage.getItem('loveApp_dailyTasks') || '{}');
            
            const totalComplaints = complaints.length;
            const totalHugs = Object.values(hugCounts).reduce((sum, count) => sum + count, 0);
            const totalDays = Object.keys(dailyTasks).length;
            
            let totalTasksCompleted = 0;
            let totalTasks = 0;
            Object.values(dailyTasks).forEach(tasks => {
                totalTasks += tasks.length;
                totalTasksCompleted += tasks.filter(task => task.completed).length;
            });
            
            const taskCompletionRate = totalTasks > 0 ? Math.round((totalTasksCompleted / totalTasks) * 100) : 0;
            
            const container = document.getElementById('stats');
            container.innerHTML = `
                <div class="stat-card">
                    <div class="stat-number">${totalComplaints}</div>
                    <div class="stat-label">Total Complaints</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalHugs}</div>
                    <div class="stat-label">Total Hugs Sent</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalDays}</div>
                    <div class="stat-label">Active Days</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${taskCompletionRate}%</div>
                    <div class="stat-label">Task Completion Rate</div>
                </div>
            `;
        }

        function clearData(key) {
            if (confirm(`Are you sure you want to clear ${key}? This cannot be undone.`)) {
                localStorage.removeItem(key);
                loadAllData();
                alert('Data cleared successfully!');
            }
        }

        // Load data when page loads
        window.onload = loadAllData;
        
        // Auto-refresh every 30 seconds
        setInterval(loadAllData, 30000);
    </script>
</body>
</html>